# OAuth 2.0 + OIDC Configuration for Multi-tenant GRC Platform
# Copy this to .env.local and fill in your actual values

# =================================
# OAuth Global Configuration
# =================================

# OAuth session secret (must be 32+ characters)
OAUTH_SECRET=your-super-secret-32-character-string-here-12345

# Base URLs
OAUTH_BASE_URL=http://localhost:3005
FRONTEND_URL=http://localhost:5173

# =================================
# Auth0 Configuration (Primary)
# =================================

# Auth0 Domain and Application Settings
AUTH0_ISSUER_BASE_URL=https://dev-your-domain.us.auth0.com
AUTH0_CLIENT_ID=your-auth0-client-id-here
AUTH0_CLIENT_SECRET=your-auth0-client-secret-here
AUTH0_AUDIENCE=https://api.grc-platform.com

# =================================
# Tenant-Specific OAuth (Optional)
# =================================

# ACME Corporation Tenant
AUTH0_ACME_CLIENT_ID=acme-specific-client-id
AUTH0_ACME_CLIENT_SECRET=acme-specific-client-secret

# FinTech Solutions Tenant  
AUTH0_FINTECH_CLIENT_ID=fintech-specific-client-id
AUTH0_FINTECH_CLIENT_SECRET=fintech-specific-client-secret

# Platform Admin Tenant
AUTH0_PLATFORM_CLIENT_ID=platform-admin-client-id
AUTH0_PLATFORM_CLIENT_SECRET=platform-admin-client-secret

# =================================
# Production OAuth Settings
# =================================

# Set to true when in production
OAUTH_PRODUCTION_MODE=false

# Production URLs (override in production)
# OAUTH_BASE_URL=https://api.grc-platform.com
# FRONTEND_URL=https://app.grc-platform.com

# =================================
# Development Settings
# =================================

# Enable OAuth dev mode (allows bypassing with ?dev_user=username)
OAUTH_DEV_MODE=true

# Mock OAuth for local testing (set to true to skip external OAuth)
OAUTH_USE_MOCK=false

# =================================
# Setup Instructions
# =================================

# 1. Create Auth0 Account:
#    - Go to https://auth0.com and create a free account
#    - Create a new Application (Single Page Application)
#    - Note your Domain, Client ID, and Client Secret

# 2. Configure Auth0 Application:
#    - Add Callback URLs: http://localhost:3005/oauth/acme/callback, http://localhost:3005/oauth/fintech/callback
#    - Add Logout URLs: http://localhost:5173/login
#    - Add Allowed Origins: http://localhost:5173, http://localhost:3005
#    - Add Allowed Web Origins: http://localhost:5173

# 3. Update Values Above:
#    - Replace AUTH0_ISSUER_BASE_URL with your Auth0 domain
#    - Replace AUTH0_CLIENT_ID with your Application's Client ID
#    - Replace AUTH0_CLIENT_SECRET with your Application's Client Secret

# 4. Copy Configuration:
#    - Copy this file to .env.local
#    - Update the values with your actual Auth0 credentials

# 5. Test OAuth Flow:
#    - Start backend: npm run dev
#    - Navigate to: http://localhost:3005/api/v1/oauth/acme/login
#    - Should redirect to Auth0 login page